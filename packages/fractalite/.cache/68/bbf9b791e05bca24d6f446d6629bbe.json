{"id":"tzUF","dependencies":[{"name":"/Users/Sam/code/fractalite/packages/fractalite/package.json","includedInParent":true,"mtime":1551782427000},{"name":"/Users/Sam/code/fractalite/packages/fractalite/.babelrc","includedInParent":true,"mtime":1551782427000},{"name":"/Users/Sam/code/fractalite/packages/fractalite/node_modules/engine.io-client/package.json","includedInParent":true,"mtime":1551785040000},{"name":"xmlhttprequest-ssl","loc":{"line":7,"column":29},"parent":"/Users/Sam/code/fractalite/packages/fractalite/node_modules/engine.io-client/lib/transports/polling-xhr.js","resolved":"/Users/Sam/code/fractalite/packages/fractalite/node_modules/engine.io-client/lib/xmlhttprequest.js"},{"name":"./polling","loc":{"line":8,"column":22},"parent":"/Users/Sam/code/fractalite/packages/fractalite/node_modules/engine.io-client/lib/transports/polling-xhr.js","resolved":"/Users/Sam/code/fractalite/packages/fractalite/node_modules/engine.io-client/lib/transports/polling.js"},{"name":"component-emitter","loc":{"line":9,"column":22},"parent":"/Users/Sam/code/fractalite/packages/fractalite/node_modules/engine.io-client/lib/transports/polling-xhr.js","resolved":"/Users/Sam/code/fractalite/packages/fractalite/node_modules/component-emitter/index.js"},{"name":"component-inherit","loc":{"line":10,"column":22},"parent":"/Users/Sam/code/fractalite/packages/fractalite/node_modules/engine.io-client/lib/transports/polling-xhr.js","resolved":"/Users/Sam/code/fractalite/packages/fractalite/node_modules/component-inherit/index.js"},{"name":"debug","loc":{"line":11,"column":20},"parent":"/Users/Sam/code/fractalite/packages/fractalite/node_modules/engine.io-client/lib/transports/polling-xhr.js","resolved":"/Users/Sam/code/fractalite/packages/fractalite/node_modules/engine.io-client/node_modules/debug/src/browser.js"}],"generated":{"js":"var t=require(\"xmlhttprequest-ssl\"),e=require(\"./polling\"),s=require(\"component-emitter\"),r=require(\"component-inherit\"),i=require(\"debug\")(\"engine.io-client:polling-xhr\");function o(){}function n(t){if(e.call(this,t),this.requestTimeout=t.requestTimeout,this.extraHeaders=t.extraHeaders,\"undefined\"!=typeof location){var s=\"https:\"===location.protocol,r=location.port;r||(r=s?443:80),this.xd=\"undefined\"!=typeof location&&t.hostname!==location.hostname||r!==t.port,this.xs=t.secure!==s}}function a(t){this.method=t.method||\"GET\",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.requestTimeout=t.requestTimeout,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders,this.create()}if(module.exports=n,module.exports.Request=a,r(n,e),n.prototype.supportsBinary=!0,n.prototype.request=function(t){return(t=t||{}).uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,t.requestTimeout=this.requestTimeout,t.extraHeaders=this.extraHeaders,new a(t)},n.prototype.doWrite=function(t,e){var s=\"string\"!=typeof t&&void 0!==t,r=this.request({method:\"POST\",data:t,isBinary:s}),i=this;r.on(\"success\",e),r.on(\"error\",function(t){i.onError(\"xhr post error\",t)}),this.sendXhr=r},n.prototype.doPoll=function(){i(\"xhr poll\");var t=this.request(),e=this;t.on(\"data\",function(t){e.onData(t)}),t.on(\"error\",function(t){e.onError(\"xhr poll error\",t)}),this.pollXhr=t},s(a.prototype),a.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var s=this.xhr=new t(e),r=this;try{i(\"xhr open %s: %s\",this.method,this.uri),s.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var o in s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(o)&&s.setRequestHeader(o,this.extraHeaders[o])}catch(n){}if(\"POST\"===this.method)try{this.isBinary?s.setRequestHeader(\"Content-type\",\"application/octet-stream\"):s.setRequestHeader(\"Content-type\",\"text/plain;charset=UTF-8\")}catch(n){}try{s.setRequestHeader(\"Accept\",\"*/*\")}catch(n){}\"withCredentials\"in s&&(s.withCredentials=!0),this.requestTimeout&&(s.timeout=this.requestTimeout),this.hasXDR()?(s.onload=function(){r.onLoad()},s.onerror=function(){r.onError(s.responseText)}):s.onreadystatechange=function(){if(2===s.readyState)try{var t=s.getResponseHeader(\"Content-Type\");r.supportsBinary&&\"application/octet-stream\"===t&&(s.responseType=\"arraybuffer\")}catch(n){}4===s.readyState&&(200===s.status||1223===s.status?r.onLoad():setTimeout(function(){r.onError(s.status)},0))},i(\"xhr data %s\",this.data),s.send(this.data)}catch(n){return void setTimeout(function(){r.onError(n)},0)}\"undefined\"!=typeof document&&(this.index=a.requestsCount++,a.requests[this.index]=this)},a.prototype.onSuccess=function(){this.emit(\"success\"),this.cleanup()},a.prototype.onData=function(t){this.emit(\"data\",t),this.onSuccess()},a.prototype.onError=function(t){this.emit(\"error\",t),this.cleanup(!0)},a.prototype.cleanup=function(t){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=o:this.xhr.onreadystatechange=o,t)try{this.xhr.abort()}catch(e){}\"undefined\"!=typeof document&&delete a.requests[this.index],this.xhr=null}},a.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader(\"Content-Type\")}catch(s){}t=\"application/octet-stream\"===e&&this.xhr.response||this.xhr.responseText}catch(s){this.onError(s)}null!=t&&this.onData(t)},a.prototype.hasXDR=function(){return\"undefined\"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR},a.prototype.abort=function(){this.cleanup()},a.requestsCount=0,a.requests={},\"undefined\"!=typeof document)if(\"function\"==typeof attachEvent)attachEvent(\"onunload\",u);else if(\"function\"==typeof addEventListener){var h=\"onpagehide\"in self?\"pagehide\":\"unload\";addEventListener(h,u,!1)}function u(){for(var t in a.requests)a.requests.hasOwnProperty(t)&&a.requests[t].abort()}","map":null},"hash":"ce47e28d672ce45c9b82d7548cb5eb10","cacheData":{"env":{}}}