{"id":"03Ky","dependencies":[{"name":"/Users/Sam/code/fractalite-nunjucks-tailwind/packages/fractalite/.babelrc","includedInParent":true,"mtime":1551782427000},{"name":"/Users/Sam/code/fractalite-nunjucks-tailwind/packages/fractalite/package.json","includedInParent":true,"mtime":1551782427000},{"name":"vue/dist/vue","loc":{"line":3,"column":16},"parent":"/Users/Sam/code/fractalite-nunjucks-tailwind/packages/fractalite/src/client/store.js","resolved":"/Users/Sam/code/fractalite-nunjucks-tailwind/packages/fractalite/node_modules/vue/dist/vue.js"},{"name":"vuex","loc":{"line":4,"column":17},"parent":"/Users/Sam/code/fractalite-nunjucks-tailwind/packages/fractalite/src/client/store.js","resolved":"/Users/Sam/code/fractalite-nunjucks-tailwind/packages/fractalite/node_modules/vuex/dist/vuex.esm.js"},{"name":"axios","loc":{"line":5,"column":18},"parent":"/Users/Sam/code/fractalite-nunjucks-tailwind/packages/fractalite/src/client/store.js","resolved":"/Users/Sam/code/fractalite-nunjucks-tailwind/packages/fractalite/node_modules/axios/index.js"},{"name":"vuex-persist","loc":{"line":6,"column":28},"parent":"/Users/Sam/code/fractalite-nunjucks-tailwind/packages/fractalite/src/client/store.js","resolved":"/Users/Sam/code/fractalite-nunjucks-tailwind/packages/fractalite/node_modules/vuex-persist/dist/esm/index.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e=n(require(\"vue/dist/vue\")),t=n(require(\"vuex\")),a=n(require(\"axios\")),s=n(require(\"vuex-persist\"));function n(e){return e&&e.__esModule?e:{default:e}}e.default.use(t.default);const r=new s.default({reducer:e=>({nav:{expandedIds:e.nav.expandedIds}})});var o=new t.default.Store({plugins:[r.plugin],state:{components:[],pages:[],inspectorData:[],nav:{items:[],expandedIds:[]},search:{targets:[]},error:null,initialised:!1},mutations:{setNavigationItems(e,t){e.nav.items=t},toggleExpanded(e,t){const{id:a}=t,s=e.nav.expandedIds.indexOf(a);s>-1?e.nav.expandedIds.splice(s,1):e.nav.expandedIds.push(a)},setSearchTargets(e,t){e.search.targets=t},clearComponentCache(e){e.components=[]},clearPageCache(e){e.pages=[]},clearInspectorDataCache(e){e.inspectorData=[]},setComponent(e,t){e.components.push(t)},setPage(e,t){e.pages.push(t)},setInspectorData(e,t){e.inspectorData.push(t)},setError(e,t){404===t.status||t.response||(e.error=t)},clearError(e){e.error=null},initialised(e){e.initialised=!0}},actions:{socket_stateUpdated:async({commit:e,dispatch:t})=>t(\"updateState\"),socket_err({commit:e},t){e(\"setError\",t[0])},async updateState({commit:e}){try{e(\"clearComponentCache\"),e(\"clearPageCache\"),e(\"clearInspectorDataCache\");const[s,n]=await Promise.all([await a.default.get(\"/api/navigation.json\"),await a.default.get(\"/api/search.json\")]);e(\"setNavigationItems\",s.data.items),e(\"setSearchTargets\",n.data.components),e(\"clearError\"),e(\"initialised\",!0)}catch(t){e(\"setError\",t)}},async fetchComponent({commit:e,getters:t},s){try{const r=t.getComponent(s);if(r)return r;const o=(await a.default.get(`/api/components/${s}.json`)).data;return e(\"setComponent\",o),o}catch(n){e(\"setError\",n)}},async fetchPage({commit:e,getters:t},s){try{const r=t.getPage(s);if(r)return r;const o=(await a.default.get(`/api/pages/${s}.json`)).data;return e(\"setPage\",o),o}catch(n){e(\"setError\",n)}},async fetchInspectorData({commit:e,getters:t},{component:s,scenario:n}){try{const o=t.getInspectorData(s,n);if(o)return o;const c={id:`${s}/${n}`,...(await a.default.get(`/api/inspect/${s}/${n}.json`)).data};return e(\"setInspectorData\",c),c}catch(r){e(\"setError\",r)}}},getters:{isExpanded:e=>t=>e.nav.expandedIds.indexOf(t.id)>-1,getComponent:e=>t=>e.components.find(e=>e.name===t),getPage:e=>t=>e.pages.find(e=>e.path===t),getInspectorData:e=>(t,a)=>e.inspectorData.find(e=>e.id===`${t}/${a}`)}});exports.default=o;","map":null},"hash":"43468f971eac492645f6dd02be1422b9","cacheData":{"env":{}}}