{"id":"Ex/H","dependencies":[{"name":"/Users/Sam/code/fractalite/packages/fractalite/package.json","includedInParent":true,"mtime":1551782427000},{"name":"/Users/Sam/code/fractalite/packages/fractalite/.babelrc","includedInParent":true,"mtime":1551782427000},{"name":"/Users/Sam/code/fractalite/packages/fractalite/node_modules/engine.io-client/package.json","includedInParent":true,"mtime":1551785040000},{"name":"../transport","loc":{"line":5,"column":24},"parent":"/Users/Sam/code/fractalite/packages/fractalite/node_modules/engine.io-client/lib/transports/websocket.js","resolved":"/Users/Sam/code/fractalite/packages/fractalite/node_modules/engine.io-client/lib/transport.js"},{"name":"engine.io-parser","loc":{"line":6,"column":21},"parent":"/Users/Sam/code/fractalite/packages/fractalite/node_modules/engine.io-client/lib/transports/websocket.js","resolved":"/Users/Sam/code/fractalite/packages/fractalite/node_modules/engine.io-parser/lib/browser.js"},{"name":"parseqs","loc":{"line":7,"column":22},"parent":"/Users/Sam/code/fractalite/packages/fractalite/node_modules/engine.io-client/lib/transports/websocket.js","resolved":"/Users/Sam/code/fractalite/packages/fractalite/node_modules/parseqs/index.js"},{"name":"component-inherit","loc":{"line":8,"column":22},"parent":"/Users/Sam/code/fractalite/packages/fractalite/node_modules/engine.io-client/lib/transports/websocket.js","resolved":"/Users/Sam/code/fractalite/packages/fractalite/node_modules/component-inherit/index.js"},{"name":"yeast","loc":{"line":9,"column":20},"parent":"/Users/Sam/code/fractalite/packages/fractalite/node_modules/engine.io-client/lib/transports/websocket.js","resolved":"/Users/Sam/code/fractalite/packages/fractalite/node_modules/yeast/index.js"},{"name":"debug","loc":{"line":10,"column":20},"parent":"/Users/Sam/code/fractalite/packages/fractalite/node_modules/engine.io-client/lib/transports/websocket.js","resolved":"/Users/Sam/code/fractalite/packages/fractalite/node_modules/engine.io-client/node_modules/debug/src/browser.js"},{"name":"ws","optional":true,"loc":{"line":20,"column":28},"parent":"/Users/Sam/code/fractalite/packages/fractalite/node_modules/engine.io-client/lib/transports/websocket.js","resolved":"/Users/Sam/code/fractalite/packages/fractalite/node_modules/parcel-bundler/src/builtins/_empty.js"},{"name":"buffer","parent":"/Users/Sam/code/fractalite/packages/fractalite/node_modules/engine.io-client/lib/transports/websocket.js","resolved":"/Users/Sam/code/fractalite/packages/fractalite/node_modules/buffer/index.js"}],"generated":{"js":"var Buffer = require(\"buffer\").Buffer;\nvar e,t,s=require(\"buffer\").Buffer,r=require(\"../transport\"),i=require(\"engine.io-parser\"),o=require(\"parseqs\"),n=require(\"component-inherit\"),a=require(\"yeast\"),h=require(\"debug\")(\"engine.io-client:websocket\");if(\"undefined\"!=typeof WebSocket)e=WebSocket;else if(\"undefined\"!=typeof self)e=self.WebSocket||self.MozWebSocket;else try{t=require(\"ws\")}catch(u){}var p=e||t;function c(s){s&&s.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=s.perMessageDeflate,this.usingBrowserWebSocket=e&&!s.forceNode,this.protocols=s.protocols,this.usingBrowserWebSocket||(p=t),r.call(this,s)}module.exports=c,n(c,r),c.prototype.name=\"websocket\",c.prototype.supportsBinary=!0,c.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,s={agent:this.agent,perMessageDeflate:this.perMessageDeflate};s.pfx=this.pfx,s.key=this.key,s.passphrase=this.passphrase,s.cert=this.cert,s.ca=this.ca,s.ciphers=this.ciphers,s.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(s.headers=this.extraHeaders),this.localAddress&&(s.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?t?new p(e,t):new p(e):new p(e,t,s)}catch(r){return this.emit(\"error\",r)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType=\"nodebuffer\"):this.ws.binaryType=\"arraybuffer\",this.addEventListeners()}},c.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError(\"websocket error\",t)}},c.prototype.write=function(e){var t=this;this.writable=!1;for(var r=e.length,o=0,n=r;o<n;o++)!function(e){i.encodePacket(e,t.supportsBinary,function(i){if(!t.usingBrowserWebSocket){var o={};if(e.options&&(o.compress=e.options.compress),t.perMessageDeflate)(\"string\"==typeof i?s.byteLength(i):i.length)<t.perMessageDeflate.threshold&&(o.compress=!1)}try{t.usingBrowserWebSocket?t.ws.send(i):t.ws.send(i,o)}catch(u){h(\"websocket closed before onclose event\")}--r||a()})}(e[o]);function a(){t.emit(\"flush\"),setTimeout(function(){t.writable=!0,t.emit(\"drain\")},0)}},c.prototype.onClose=function(){r.prototype.onClose.call(this)},c.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},c.prototype.uri=function(){var e=this.query||{},t=this.secure?\"wss\":\"ws\",s=\"\";return this.port&&(\"wss\"===t&&443!==Number(this.port)||\"ws\"===t&&80!==Number(this.port))&&(s=\":\"+this.port),this.timestampRequests&&(e[this.timestampParam]=a()),this.supportsBinary||(e.b64=1),(e=o.encode(e)).length&&(e=\"?\"+e),t+\"://\"+(-1!==this.hostname.indexOf(\":\")?\"[\"+this.hostname+\"]\":this.hostname)+s+this.path+e},c.prototype.check=function(){return!(!p||\"__initialize\"in p&&this.name===c.prototype.name)};","map":null},"hash":"302535a641f7ce7c048571da2996f684","cacheData":{"env":{}}}